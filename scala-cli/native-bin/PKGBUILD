pkgname=scala-cli-native-bin
pkgver=0.1.19
pkgrel=1
pkgdesc='Scala CLI is a command-line tool to interact with the Scala language.'
arch=('x86_64')
url='https://scala-cli.virtuslab.org'
license=('Apache')
conflicts=('scala-cli')
depends=('java-runtime-headless>=8')
source=("scala-cli-$pkgver.gz::https://github.com/VirtusLab/scala-cli/releases/download/v$pkgver/scala-cli-$arch-pc-linux.gz")
sha256sums=('b5bd196fdf027225a414c5aa29db42813bd51ef738173cba64e6f1178691cca5')
options=(!strip)

package() {
  install -Dm755 "$srcdir/scala-cli-$pkgver" "$pkgdir/usr/bin/scala-cli"
  install -Dm644 <("$srcdir/scala-cli-$pkgver" install completions --shell bash --env) "$pkgdir/usr/share/bash-completion/completions/scala-cli"
  install -Dm644 <("$srcdir/scala-cli-$pkgver" install completions --shell zsh --env) "$pkgdir/usr/share/zsh/site-functions/_scala-cli"
}
